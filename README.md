# Boost Filesystem

Работа посвящена изучению работы с файловой системой на языке **C++**. В стандарте **C++17** появилась библиотека для работы с [файловой системой](https://en.cppreference.com/w/cpp/filesystem). Но так как на данный момент еще не все компиляторы поддерживают новейший стандарт **C++** в этой лабораторный используется библиотека **boost::filesystem**, которая была взята за основу при разработке стандарта.

## Задание

Использовать библиотеку **boost::filesystem** для анализа директории с [FTP](https://ru.wikipedia.org/wiki/FTP)-файлами, содержащими финансовую информацию. Подробная инструкция по библиотеке **boost::filesystem** есть, например, [тут](https://www.boost.org/doc/libs/1_68_0/libs/filesystem/doc/tutorial.html).

Структура анализируемой директории в общем случае может имеет вид:

```Shell
ftp                                         # корневой каталог ftp
├── ib                                      # каталог, содержащий файлы от брокера ib
     ├── balance_00001234_20181001.old.txt  # файлы финансовой отчётности в старом формате 
     ├── balance_00001234_20181001.txt      # файлы финансовой отчётночти в новом формате 
     ├── balance_00001346_20181001.txt      
     ├── ...     
     └── balance_00001346_20181018.txt      
├── bcs                                     # каталог, содержащий файлы от брокера bcs
     ├── balance_12341234_20181001.txt
     └── ...     
├── otkritie                                # каталог, содержащий файлы от брокера otkritie
     └── ...   
└── docs                                    # каталог, содержащий какие-то произвольные файлы
     ├── readme.txt     
     └── report.doc 
```

Файлы, содержащие финансовую информацию, имеют имя в определенном формате:
`balance_XXXXXXXX_YYYYMMDD.txt`, где 

| Поле | Описание |
| ------ | ------ |
| `balance` | тип файла |
| `XXXXXXXX` | 8-и значный номер счёта |
| `YYYYMMDD` | дата, где `YYYY`-год, `MM`-месяц и `DD`-день |
| `.txt` | расширение файла |

## Необходимо

- в проекте, созданном в задании 1, создать файл `main.cpp` и подключить библиотеку **boost::filesystem** (`<boost/filesystem.hpp>`);
- считать из аргументов командной строки `args` функции `main` путь к анализируемой директории `path_to_ftp`. Если аргумент отсутствует, то по умолчанию программа должна анализировать директорию, в которой она находится;
- организовать итерацию по всем файлам и вложенным директориям, включая символьные ссылки, с целью поиска всех файлов, содержащих финансовую информацию;
- файлы, имеющие имя, отличное от описанного формата, необходимо игнорировать;
- файлы, содержищие финансовую информацию, но имеющие в конце постфикс `.old.txt`, необходимо игнорировать;
- программа должна вывести на экран список всех обнаруженных финансовых файлов в формате:

```Shell
ib balance_00001234_20181001.txt
ib balance_00001234_20181002.txt
ib balance_00001234_20181003.txt
bcs balance_00001234_20181001.txt
bcs balance_00001234_20181005.txt
...
```

- также она должна вывести общее количество файлов по каждому обнаруженному счёту и дату самого актуального (самого нового) файла, например:

```Shell
broker:ib account:00001234 files:10 lastdate:20181017
broker:ib account:00001356 files:7 lastdate:20181018
broker:bcs account:12341356 files:8 lastdate:20181016
```
